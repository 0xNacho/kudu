race:_dl_deallocate_tls
race:kudu::tablet::ScopedRowLock::Release

# Even with newer versions of libstdc++, there appear to be some races
# which are false positives with the stock version. Rather than rebuilding
# libstdc++ with TSAN, we just suppress them here.
race:~basic_string
race:std::tr1::_Sp_counted_base
race:std::string::_Rep::_M_refcopy
race:std::string::_Rep::_M_grab
race:std::string::_Rep::_M_dispose

# Protobuf's implementation of GoogleOnce doesn't properly annotate itself
race:google::protobuf::GoogleOnceInitImpl
race:google::protobuf::Message::GetReflection

# libunwind uses some double-checked locking which isn't perfectly safe.
# Reported at http://savannah.nongnu.org/bugs/index.php?42677
race:_ULx86_64_local_addr_space_init

# libev uses some lock-free synchronization, but doesn't have TSAN annotations.
# See http://lists.schmorp.de/pipermail/libev/2013q2/002178.html or KUDU-366
# for examples.
race:evpipe_write
race:evpipe_init

# concurrent btree uses optimistic concurrency, needs to be annotated a bunch
# more before it would pass. Relatively confident that it is correct based on
# a lot of stress testing.
race:concurrent_btree.h

# We're currently a little lax on using atomic instructions for mutations where
# we might need to. There are possible bugs lurking here, though likely we are
# hiding behind x86 TSO for now.
race:kudu::tablet::ApplyMutationsAndGenerateUndos
race:kudu::tablet::MemRowSet::Iterator::ApplyMutationsToProjectedRow
race:kudu::tablet::Mutation::*
race:kudu::RowChangeListDecoder::Init

# GLog's fatal signal handler isn't signal-safe -- it allocates memory.
# This isn't great, but nothing we can do about it. See
# https://code.google.com/p/google-glog/issues/detail?id=191
signal:logging_fail

# ------------------------------------------------------------
# Known bugs below. As these JIRAs are resolved, please remove the relevant
# suppression.
# ------------------------------------------------------------

# KUDU-186: sketchy synchronization in catalog manager
race:kudu::master::CatalogManagerBgTasks::Shutdown

# KUDU-187: missing read lock on IsCreateInProgress
race:kudu::master::TableInfo::IsCreateInProgress

# KUDU-189: unsynchronized access to 'state_' in DeferredCallback
race:kudu::master::AsyncTabletRequestTask::DeferredCallback
