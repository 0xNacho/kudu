---
title: Installing Kudu
layout: default

last_updated: 'Last updated 2015-09-10 00:29:19 PDT'
---


<div class="container">
  <div class="row">
    <div class="col-md-9">

<h1>Installing Kudu</h1>
      <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>You can deploy Kudu on a CDH cluster using packages or parcels, or you can build Kudu
from source. To run Kudu without installing anything, use the link:quickstart.html#quickstart_vm
[Kudu Quickstart VM].</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_prerequisites_and_requirements"><a class="link" href="#_prerequisites_and_requirements">Prerequisites and Requirements</a></h2>
<div class="sectionbody">
<div class="ulist">
<div class="title">Hardware</div>
<ul>
<li>
<p>A Cloudera Manager or CDH cluster which meets these requirements:</p>
</li>
<li>
<p>A host to run the Kudu master. // TODO multi-master</p>
</li>
<li>
<p>One or more hosts to run Kudu tablet servers. Production clusters need at least
three tablet servers.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Operating System</div>
<ul>
<li>
<p>An operating system and version supported by Cloudera.</p>
</li>
<li>
<p>A kernel version and filesystem that support <em>hole punching</em>. On Linux, hole punching
is the use of the <code>fallocate()</code> system call with the <code>FALLOC_FL_PUNCH_HOLE</code> option
set.</p>
</li>
<li>
<p>RHEL or CentOS 6.4 or later, patched to kernel version of 2.6.32-358 or later.
Unpatched RHEL or CentOS 6.4 does not include a kernel with support for hole punching.</p>
</li>
<li>
<p>Ubuntu 14.04 includes version 3.13 of the Linux kernel, which supports hole punching.</p>
</li>
<li>
<p>Newer versions of the EXT4 or XFS filesystems support hole punching, but EXT3 does
not. Older versions of XFS that do not support hole punching return a <code>EOPNOTSUPP</code>
(operation not supported) error. Older versions of either EXT4 or XFS that do
not support hole punching cause Kudu to emit an error message such as the following
and to fail to start:</p>
<div class="listingblock">
<div class="content">
<pre>Error during hole punch test. The log block manager requires a
filesystem with hole punching support such as ext4 or xfs. On el6,
kernel version 2.6.32-358 or newer is required. To run without hole
punching (at the cost of some efficiency and scalability), reconfigure
Kudu with --block_manager=file. Refer to the Kudu documentation for more
details. Raw error message follows.</pre>
</div>
</div>
</li>
<li>
<p>Without hole punching support, the log block manager is unsafe to use. It won&#8217;t
ever delete blocks, consuming ever more space on disk.</p>
</li>
<li>
<p>If you can&#8217;t use hole punching in your environment, you can still
try Kudu. Enable the file block manager instead of the log block manager by
adding the <code>--block_manager=file</code> flag to the commands you use to start the master
and tablet servers. The file block manager does not scale as well as the log block
manager.</p>
</li>
<li>
<p>OSX is not supported, even for building from source.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Storage</div>
<ul>
<li>
<p>If solid state storage is available, storing Kudu WALs on such high-performance
media may significantly improve latency when Kudu is configured for its highest
durability levels.</p>
</li>
<li>
<p>A filesystem that supports <a href="#req_hole_punching">hole punching</a> is recommended.
Supported filesystems
are EXT4 and XFS.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_install_using_parcels"><a class="link" href="#_install_using_parcels">Install Using Parcels</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you use Cloudera Manager, the easiest way to install Kudu is with parcels. First,
add the parcel repository to Cloudera Manager. Then distribute Kudu to your cluster.
Here is the procedure in detail.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
If you install Kudu using parcels and your filesystem does not support hole
punching, the initial service start-up will fail and you will need to use an advanced
configuration snippet to configure the file block manager. See <a href="#req_hole_punching">Hole Punching</a>.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Download the Custom Service Descriptor (CSD) JAR to the <code>/opt/cloudera/csd</code> directory.</p>
<div class="listingblock">
<div class="content">
<pre>$ cd /opt/cloudera/csd
$ wget http://golden.jenkins.sf.cloudera.com/job/Kudu-CSD/lastSuccessfulBuild/artifact/java/kudu-csd/target/KUDU-0.1.0.jar</pre>
</div>
</div>
</li>
<li>
<p>Restart the Cloudera Manager server to detect the CSD.</p>
<div class="listingblock">
<div class="content">
<pre>$ sudo service cloudera-scm-server restart</pre>
</div>
</div>
</li>
<li>
<p>In Cloudera Manager, go to <strong>Hosts &gt; Parcels</strong>. Find <code>KUDU</code> in the list, and click <strong>Download</strong>.</p>
</li>
<li>
<p>When the download is complete, select your cluster from the <strong>Locations</strong> selector,
and click <strong>Distribute</strong>. If you only have one cluster, it is selected automatically.</p>
</li>
<li>
<p>When distribution is complete, click <strong>Activate</strong> to activate the parcel. Restart
the cluster when prompted. This may take several minutes.</p>
</li>
<li>
<p>Install the Kudu service on your cluster. Go to the cluster where you want to install Kudu.
Click <strong>Actions &gt; Add a Service</strong>. Select <strong>Kudu</strong> from the list, and click <strong>Continue</strong>.</p>
</li>
<li>
<p>Select a host to be the master and one or more hosts to be tablet servers. A
host can act as both a master and a tablet server, but this may cause performance
problems on a large cluster. The Kudu master process is not resource-intensive and
can be collocated with other similar processes such as the HDFS Namenode or YARN
ResourceManager.</p>
<div class="paragraph">
<p>After selecting hosts, click <strong>Continue</strong>.</p>
</div>
</li>
<li>
<p>Configure the storage locations for Kudu data and WAL files on masters and tablet
servers. Cloudera Manager will create the directories.</p>
<div class="ulist">
<ul>
<li>
<p>You can use the same directory to store data and WALs.</p>
</li>
<li>
<p>You cannot store WALs in a subdirectory of the data directory.</p>
</li>
<li>
<p>If any host is both a master and tablet server, configure different directories
for master and tablet server. For instance, <code>/data/kudu/master</code> and <code>/data/kudu/tserver</code>.</p>
</li>
<li>
<p>If you choose a filesystem that does not support <a href="#req_hole_punching">hole punching</a>,
service start-up will fail. Exit the configuration wizard by clicking the <strong>Cloudera</strong>
logo at the top of the Cloudera Manager interface, and search for the
<strong>Kudu Service Advanced Configuration Snippet (Safety Valve) for gflagfile</strong> configuration option.
Add the following line to it, and save your changes: <code>--block_manager=file</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>If you did not need to exit the wizard, click <strong>Continue</strong>. Kudu masters and tablet
servers are started. Otherwise, go to the Kudu service, and click <strong>Actions &gt; Start</strong>.</p>
</li>
<li>
<p>Verify that services are running using one of the following methods:</p>
<div class="ulist">
<ul>
<li>
<p>Examine the output of the <code>ps</code> command on servers to verify one or both of <code>kudu-master</code>
or <code>kudu-tserver</code> processes is running.</p>
</li>
<li>
<p>Access the Master or Tablet Server web UI by opening <code>http://&lt;_host_name_&gt;:8051/</code>
for masters
or <code>http://&lt;_host_name_&gt;:8050/</code> for tablet servers.</p>
</li>
</ul>
</div>
</li>
<li>
<p>To manage services, go to the Kudu service and use the <strong>Actions</strong> menu to stop, start, restart, or
otherwise manage the service.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="install_packages"><a class="link" href="#install_packages">Install Using Packages</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you prefer, you can install Kudu using packages managed by the operating system instead of Cloudera
Manager parcels. After installing Kudu using packages, Cloudera recommends managing the Kudu service
using Cloudera Manager, but you can manage it manually via operating system utilities.</p>
</div>
<table id="kudu_package_locations" class="tableblock frame-all grid-all spread">
<caption class="title">Table 1. Kudu Package Locations</caption>
<colgroup>
<col style="width: 33%;">
<col style="width: 33%;">
<col style="width: 33%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Repository</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Individual Packages</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RHEL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://repos.jenkins.cloudera.com/kudu-nightly/redhat/5/x86_64/kudu/cloudera-kudu.repo">RHEL 5</a> or <a href="http://repos.jenkins.cloudera.com/kudu-nightly/redhat/6/x86_64/kudu/cloudera-kudu.repo">RHEL 6</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://repos.jenkins.cloudera.com/kudu-nightly/redhat/5/x86_64/kudu/0.1.0/RPMS/x86_64/">RHEL 5</a> or <a href="http://repos.jenkins.cloudera.com/kudu-nightly/redhat/6/x86_64/kudu/0.1.0/RPMS/x86_64/">RHEL 6</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SLES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://repos.jenkins.cloudera.com/kudu-nightly/sles/11/x86_64/kudu/cloudera-kudu.repo">SLES 11</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TBD</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ubuntu</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://repos.jenkins.cloudera.com/kudu-nightly/ubuntu/precise/amd64/kudu/cloudera.list">Precise</a> or <a href="http://repos.jenkins.cloudera.com/kudu-nightly/ubuntu/trusty/amd64/kudu/cloudera.list">Trusty</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TBD</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Debian</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://repos.jenkins.cloudera.com/kudu-nightly/debian/wheezy/amd64/kudu/cloudera.list">Wheezy</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TBD</p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="_install_on_rhel_or_sles_hosts"><a class="link" href="#_install_on_rhel_or_sles_hosts">Install On RHEL or SLES Hosts</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Download and configure the Kudu repositories for your operating system, or manually
download individual RPMs, the appropriate link from <a href="#kudu_package_locations">Kudu Package Locations</a>.</p>
</li>
<li>
<p>If using a Yum repository, use the following commands to install Kudu packages on
each host.</p>
<div class="listingblock">
<div class="content">
<pre>sudo yum install kudu                         # Base Kudu files
sudo yum install kudu-master                  # Kudu master init.d service script and default configuration
sudo yum install kudu-tserver                 # Kudu tablet server init.d service script and default configuration
sudo yum install kudu-client                  # Kudu C++ client shared library
sudo yum install kudu-client-devel            # Kudu C++ client SDK</pre>
</div>
</div>
</li>
<li>
<p>To manually install the Kudu RPMs, first download them, then use the command
<code>sudo rpm -ivh &lt;RPM to install&gt;</code>. If you do not use Cloudera Manager, install the
<code>kudu-master</code> and <code>kudu-tserver</code> packages on the appropriate hosts. These packages
provide the operating system commands to start and stop Kudu. Do not attempt to
use operating system commands to start or stop Kudu if you use Cloudera Manager.</p>
</li>
<li>
<p>Download the Custom Service Descriptor (CSD) JAR to the <code>/opt/cloudera/csd</code> directory.</p>
<div class="listingblock">
<div class="content">
<pre>$ cd /opt/cloudera/csd
$ wget http://golden.jenkins.sf.cloudera.com/job/Kudu-CSD/lastSuccessfulBuild/artifact/java/kudu-csd/target/KUDU-0.1.0.jar</pre>
</div>
</div>
</li>
<li>
<p>Restart the Cloudera Manager server to detect the CSD.</p>
<div class="listingblock">
<div class="content">
<pre>$ sudo service cloudera-scm-server restart</pre>
</div>
</div>
</li>
<li>
<p>In Cloudera Manager, go to <strong>Hosts &gt; Parcels</strong>. Find <code>KUDU</code> in the list, and click <strong>Download</strong>.</p>
</li>
<li>
<p>When the download is complete, select your cluster from the <strong>Locations</strong> selector,
and click <strong>Distribute</strong>. If you only have one cluster, it is selected automatically.</p>
</li>
<li>
<p>When distribution is complete, click <strong>Activate</strong> to activate the parcel. Restart
the cluster when prompted. This may take several minutes.</p>
</li>
<li>
<p>Install the Kudu service on your cluster. Go to the cluster where you want to install Kudu.
Click <strong>Actions &gt; Add a Service</strong>. Select <strong>Kudu</strong> from the list, and click <strong>Continue</strong>.</p>
</li>
<li>
<p>Select a host to be the master and one or more hosts to be tablet servers. A
host can act as both a master and a tablet server, but this may cause performance
problems on a large cluster. The Kudu master process is not resource-intensive and
can be collocated with other similar processes such as the HDFS Namenode or YARN
ResourceManager.</p>
<div class="paragraph">
<p>After selecting hosts, click <strong>Continue</strong>.</p>
</div>
</li>
<li>
<p>Configure the storage locations for Kudu data and WAL files on masters and tablet
servers. Cloudera Manager will create the directories.</p>
<div class="ulist">
<ul>
<li>
<p>You can use the same directory to store data and WALs.</p>
</li>
<li>
<p>You cannot store WALs in a subdirectory of the data directory.</p>
</li>
<li>
<p>If any host is both a master and tablet server, configure different directories
for master and tablet server. For instance, <code>/data/kudu/master</code> and <code>/data/kudu/tserver</code>.</p>
</li>
<li>
<p>If you choose a filesystem that does not support <a href="#req_hole_punching">hole punching</a>,
service start-up will fail. Exit the configuration wizard by clicking the <strong>Cloudera</strong>
logo at the top of the Cloudera Manager interface, and search for the
<strong>Kudu Service Advanced Configuration Snippet (Safety Valve) for gflagfile</strong> configuration option.
Add the following line to it, and save your changes: <code>--block_manager=file</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>If you did not need to exit the wizard, click <strong>Continue</strong>. Kudu masters and tablet
servers are started. Otherwise, go to the Kudu service, and click <strong>Actions &gt; Start</strong>.</p>
</li>
<li>
<p>Verify that services are running using one of the following methods:</p>
<div class="ulist">
<ul>
<li>
<p>Examine the output of the <code>ps</code> command on servers to verify one or both of <code>kudu-master</code>
or <code>kudu-tserver</code> processes is running.</p>
</li>
<li>
<p>Access the Master or Tablet Server web UI by opening <code>http://&lt;_host_name_&gt;:8051/</code>
for masters
or <code>http://&lt;_host_name_&gt;:8050/</code> for tablet servers.</p>
</li>
</ul>
</div>
</li>
<li>
<p>To manage services, go to the Kudu service and use the <strong>Actions</strong> menu to stop, start, restart, or
otherwise manage the service.</p>
</li>
<li>
<p>To manage Kudu without using Cloudera Manager, continue to <a href="#required_config_without_cm">Required Configuration Without Cloudera Manager</a>.
Cloudera recommends using Cloudera Manager.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_install_on_ubuntu_or_debian_hosts"><a class="link" href="#_install_on_ubuntu_or_debian_hosts">Install On Ubuntu or Debian Hosts</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>If using an Ubuntu or Debian repository, use the following commands to install Kudu
packages on each host.</p>
<div class="listingblock">
<div class="content">
<pre>sudo apt-get install kudu                     # Base Kudu files

sudo apt-get install kudu-master              # Service scripts for managing kudu-master
                                              # Use ONLY if you do not use Cloudera Manager

sudo apt-get install kudu-tserver             # Service scripts for managing kudu-tserver
                                              # Use ONLY if you do not use Cloudera Manager

sudo apt-get install libkuduclient0           # Kudu C++ client shared library

sudo apt-get install  libkuduclient-dev       # Kudu C++ client SDK</pre>
</div>
</div>
</li>
<li>
<p>To manually install individual DEBs, first download them, then use the command
<code>sudo dpkg -i &lt;DEB to install&gt;</code>. If you do not use Cloudera Manager, install the
<code>kudu-master</code> and <code>kudu-tserver</code> packages on the appropriate hosts. These packages
provide the operating system commands to start and stop Kudu. Do not attempt to
use operating system commands to start or stop Kudu if you use Cloudera Manager.</p>
</li>
<li>
<p>Download the Custom Service Descriptor (CSD) JAR to the <code>/opt/cloudera/csd</code> directory.</p>
<div class="listingblock">
<div class="content">
<pre>$ cd /opt/cloudera/csd
$ wget http://golden.jenkins.sf.cloudera.com/job/Kudu-CSD/lastSuccessfulBuild/artifact/java/kudu-csd/target/KUDU-0.1.0.jar</pre>
</div>
</div>
</li>
<li>
<p>Restart the Cloudera Manager server to detect the CSD.</p>
<div class="listingblock">
<div class="content">
<pre>$ sudo service cloudera-scm-server restart</pre>
</div>
</div>
</li>
<li>
<p>In Cloudera Manager, go to <strong>Hosts &gt; Parcels</strong>. Find <code>KUDU</code> in the list, and click <strong>Download</strong>.</p>
</li>
<li>
<p>When the download is complete, select your cluster from the <strong>Locations</strong> selector,
and click <strong>Distribute</strong>. If you only have one cluster, it is selected automatically.</p>
</li>
<li>
<p>When distribution is complete, click <strong>Activate</strong> to activate the parcel. Restart
the cluster when prompted. This may take several minutes.</p>
</li>
<li>
<p>Install the Kudu service on your cluster. Go to the cluster where you want to install Kudu.
Click <strong>Actions &gt; Add a Service</strong>. Select <strong>Kudu</strong> from the list, and click <strong>Continue</strong>.</p>
</li>
<li>
<p>Select a host to be the master and one or more hosts to be tablet servers. A
host can act as both a master and a tablet server, but this may cause performance
problems on a large cluster. The Kudu master process is not resource-intensive and
can be collocated with other similar processes such as the HDFS Namenode or YARN
ResourceManager.</p>
<div class="paragraph">
<p>After selecting hosts, click <strong>Continue</strong>.</p>
</div>
</li>
<li>
<p>Configure the storage locations for Kudu data and WAL files on masters and tablet
servers. Cloudera Manager will create the directories.</p>
<div class="ulist">
<ul>
<li>
<p>You can use the same directory to store data and WALs.</p>
</li>
<li>
<p>You cannot store WALs in a subdirectory of the data directory.</p>
</li>
<li>
<p>If any host is both a master and tablet server, configure different directories
for master and tablet server. For instance, <code>/data/kudu/master</code> and <code>/data/kudu/tserver</code>.</p>
</li>
<li>
<p>If you choose a filesystem that does not support <a href="#req_hole_punching">hole punching</a>,
service start-up will fail. Exit the configuration wizard by clicking the <strong>Cloudera</strong>
logo at the top of the Cloudera Manager interface, and search for the
<strong>Kudu Service Advanced Configuration Snippet (Safety Valve) for gflagfile</strong> configuration option.
Add the following line to it, and save your changes: <code>--block_manager=file</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>If you did not need to exit the wizard, click <strong>Continue</strong>. Kudu masters and tablet
servers are started. Otherwise, go to the Kudu service, and click <strong>Actions &gt; Start</strong>.</p>
</li>
<li>
<p>Verify that services are running using one of the following methods:</p>
<div class="ulist">
<ul>
<li>
<p>Examine the output of the <code>ps</code> command on servers to verify one or both of <code>kudu-master</code>
or <code>kudu-tserver</code> processes is running.</p>
</li>
<li>
<p>Access the Master or Tablet Server web UI by opening <code>http://&lt;_host_name_&gt;:8051/</code>
for masters
or <code>http://&lt;_host_name_&gt;:8050/</code> for tablet servers.</p>
</li>
</ul>
</div>
</li>
<li>
<p>To manage services, go to the Kudu service and use the <strong>Actions</strong> menu to stop, start, restart, or
otherwise manage the service.</p>
</li>
<li>
<p>To manage Kudu without using Cloudera Manager, continue to <a href="#required_config_without_cm">Required Configuration Without Cloudera Manager</a>.
Cloudera recommends using Cloudera Manager.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="required_config_without_cm"><a class="link" href="#required_config_without_cm">Required Configuration Without Cloudera Manager</a></h3>
<div class="paragraph">
<p>If you install Kudu from packages and choose not to use Cloudera Manager, additional
configuration steps are required on each host before you can start Kudu services.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create a flagfile in <code>/etc/kudu/conf/gflagfile</code> with at least the following contents,
modified to match your environment. It should be world-readable.</p>
<div class="listingblock">
<div class="content">
<pre># Minimum configuration for masters
--master_data_dirs=/data/kudu
--master_wal_dir=/data/kudu
# Uncomment this if your system does not support hole punching.
#--block_manager=file

# Minimum configuration for tablet servers
--tserver_data_dirs=/data/kudu
--tserver_wal_dir=/data/kudu
--tserver_master_addrs=kudu_master.example.com
# Uncomment this if your system does not support hole punching.
#--block_manager=file</pre>
</div>
</div>
</li>
<li>
<p>Adjust the Kudu default settings to use this flagfile. Edit <code>/etc/default/kudu</code>
and add the following argument to the list of arguments for <code>KUDU_MASTER_ARGS</code> and
<code>KUDU_TSERVER_ARGS</code>: <code>--flagfile=/etc/kudu/conf/gflagfile</code></p>
</li>
<li>
<p>Start Kudu services using the following commands:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ sudo service kudu-master start
$ sudo service kudu-tserver start</code></pre>
</div>
</div>
</li>
<li>
<p>To stop Kudu services, use the following commands:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ sudo service kudu-master stop
$ sudo service kudu-tserver stop</code></pre>
</div>
</div>
</li>
<li>
<p>Configure the Kudu services to start automatically when the server starts, by adding
them to the default runlevel.</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ sudo chkconfig kudu-master on                # RHEL / CentOS
$ sudo chkconfig kudu-tserver on         # RHEL / CentOS

$ sudo update-rc.d kudu-master defaults        # Debian / Ubuntu
$ sudo update-rc.d kudu-tserver defaults # Debian / Ubuntu</code></pre>
</div>
</div>
</li>
<li>
<p>For additional configuration of Kudu services, see <a href="configuration.html">Configuring
Kudu</a>.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_build_from_source"><a class="link" href="#_build_from_source">Build From Source</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>If installing Kudu using parcels or packages does not provide the flexibility you
need, you can build Kudu from source. You can build from source on any operating system
supported by Cloudera.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
It is not possible to build Kudu on OSX.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_rhel_or_centos"><a class="link" href="#_rhel_or_centos">RHEL or CentOS</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Install the prerequisite libraries, if they are not installed:</p>
<div class="listingblock">
<div class="content">
<pre>$ sudo yum install boost-static boost-devel openssl-devel cyrus-sasl-devel</pre>
</div>
</div>
</li>
<li>
<p>Optional: Install <code>liboauth</code> and <code>liboauth-devel</code> if you plan to build the Twitter demo.</p>
<div class="listingblock">
<div class="content">
<pre>$ sudo yum install liboauth liboauth-devel</pre>
</div>
</div>
</li>
<li>
<p>Optional: Install the <code>asciidoctor</code> gem if you plan to build documentation.</p>
<div class="listingblock">
<div class="content">
<pre>$ sudo gem install asciidoctor</pre>
</div>
</div>
</li>
<li>
<p>Clone the Git repository and change to the new <code>kudu</code> directory.</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ git clone http://github.mtv.cloudera.com/CDH/kudu
$ cd kudu</code></pre>
</div>
</div>
</li>
<li>
<p>Build any missing third-party requirements using the <code>build-if-necessary.sh</code> script.</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ thirdparty/build-if-necessary.sh</code></pre>
</div>
</div>
</li>
<li>
<p>Build Kudu, using the utilities installed in the previous step. Edit the install
prefix to the location where you would like the Kudu binaries, libraries, and headers
installed during the <code>make install</code> step. The default value is <code>/usr/local/</code>.</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">thirdparty/installed/bin/cmake . -DCMAKE_BUILD_TYPE=release -DCMAKE_INSTALL_PREFIX=/opt/kudu
make -j4</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div id="build_install_kudu" class="olist arabic">
<ol class="arabic">
<li>
<p>Optional: Install Kudu binaries, libraries, and headers.
If you do not specify a <code>DESTDIR</code>, <code>/usr/local/</code> is the default.</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">sudo make DESTDIR=/opt/kudu install</code></pre>
</div>
</div>
</li>
<li>
<p>Optional: Build the documentation.</p>
<div class="listingblock">
<div class="content">
<pre>$ make docs</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="exampleblock">
<div class="title">Example 1. RHEL / Centos Build Script</div>
<div class="content">
<div class="paragraph">
<p>This script provides an overview of the procedure to build Kudu on a
newly-installed RHEL or Centos host, and can be used as the basis for an
automated deployment scenario. It skips the steps marked <strong>Optional</strong> above.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">#!/bin/bash

sudo yum -y install boost-static boost-devel openssl-devel cyrus-sasl-devel
git clone http://github.sf.cloudera.com/CDH/kudu
cd kudu
thirdparty/build-if-necessary.sh
thirdparty/installed/bin/cmake . -DCMAKE_BUILD_TYPE=release
make -j4
make install</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_ubuntu_or_debian"><a class="link" href="#_ubuntu_or_debian">Ubuntu or Debian</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Install the prerequisite libraries, if they are not installed:</p>
<div class="listingblock">
<div class="content">
<pre>$ sudo apt-get -y install git autoconf automake libboost-thread-dev curl gcc g++ \
  libssl-dev libsasl2-dev libtool ntp</pre>
</div>
</div>
</li>
<li>
<p>Optional: Install <code>liboauth-dev</code> if you plan to build the Twitter demo.</p>
<div class="listingblock">
<div class="content">
<pre>$ sudo apt-get -y install liboauth-dev</pre>
</div>
</div>
</li>
<li>
<p>Optional: Install the <code>asciidoctor</code> gem if you plan to build documentation.</p>
<div class="listingblock">
<div class="content">
<pre>$ sudo gem install asciidoctor</pre>
</div>
</div>
</li>
<li>
<p>Clone the Git repository and change to the new <code>kudu</code> directory.</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ git clone http://github.mtv.cloudera.com/CDH/kudu
$ cd kudu</code></pre>
</div>
</div>
</li>
<li>
<p>Build any missing third-party requirements using the <code>build-if-necessary.sh</code> script.</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ thirdparty/build-if-necessary.sh</code></pre>
</div>
</div>
</li>
<li>
<p>Build Kudu.</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">thirdparty/installed/bin/cmake . -DCMAKE_BUILD_TYPE=release
make -j4</code></pre>
</div>
</div>
</li>
<li>
<p>Optional: Build the documentation.</p>
<div class="listingblock">
<div class="content">
<pre>$ make docs</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="exampleblock">
<div class="title">Example 2. Ubuntu / Debian Build Script</div>
<div class="content">
<div class="paragraph">
<p>This script provides an overview of the procedure to build Kudu on RHEL or
Centos, and can be used as the basis for an automated deployment scenario. It skips
the steps marked <strong>Optional</strong> above.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">#!/bin/bash

sudo apt-get -y install git autoconf automake libboost-thread-dev curl \
  gcc g++ libssl-dev libsasl2-dev libtool ntp
git clone http://github.sf.cloudera.com/CDH/kudu
cd kudu
thirdparty/build-if-necessary.sh
thirdparty/installed/bin/cmake . -DCMAKE_BUILD_TYPE=release
make -j4
make install</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="build_cpp_client"><a class="link" href="#build_cpp_client">Installing the C++ Client Libraries</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you use Cloudera Manager with parcels, and need the Kudu client libraries to be
available for local development, install the <code>kudu-client</code> and <code>kudu-client-devel</code>
package for your platform. See <a href="#install_packages">Install Using Packages</a>.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Only build against the client libraries and headers (<code>kudu_client.so</code> and <code>client.h</code>).
Other libraries and headers are internal to Kudu and have no stability guarantees.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="build_java_client"><a class="link" href="#build_java_client">Build the Java Client</a></h2>
<div class="sectionbody">
<div class="ulist">
<div class="title">Requirements</div>
<ul>
<li>
<p>JDK 7</p>
</li>
<li>
<p>Apache Maven 3.x</p>
</li>
<li>
<p><code>protoc</code> 2.6 or newer installed in your path, or built from the <code>thirdparty/</code> directory.
You can run the following commands to build <code>protoc</code> from the third-party dependencies:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>$ thirdparty/download-thirdparty.sh
$ thirdparty/build-thirdparty.sh protobuf</pre>
</div>
</div>
<div class="paragraph">
<p>To build the Java client, clone the Kudu Git
repository, change to the <code>java</code> directory, and issue the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ mvn install -DskipTests</code></pre>
</div>
</div>
<div class="paragraph">
<p>For more information about building the Java API, as well as Eclipse integration,
see <code>java/README.md</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="view_api"><a class="link" href="#view_api">View API Documentation</a></h2>
<div class="sectionbody">
<div class="paragraph">
<div class="title">C++ API Documentation</div>
<p>The documentation for the C++ client APIs is included in the header files in
<code>/usr/include/kudu/</code> if you installed Kudu using packages or subdirectories
of <code>src/kudu/client/</code> if you built Kudu from source. If you installed Kudu using parcels,
no headers are included in your installation. and you will need to <a href="#build_kudu">build
Kudu from source</a> in order to have access to the headers and shared libraries.</p>
</div>
<div class="paragraph">
<p>The following command is a naive approach to finding relevant header files. Use
of any APIs other than the client APIs is unsupported.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ find /usr/include/kudu -type f -name *.h</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Java API Documentation</div>
<p>You can view the <a href="../apidocs/index.html">Java API documentation</a> online. Alternatively,
after <a href="#build_java_client">building the Java client</a>, Java API documentation is available
in <code>java/kudu-client/target/apidocs/index.html</code>.
== Next Steps
- <a href="configuration.html">Configuring Kudu</a>
- <a href="administration.html">Kudu Administration</a></p>
</div>
</div>
</div>
    </div>
    <div class="col-md-3">

  <div id="toc" data-spy="affix" data-offset-top="70">
    <ul class="sectlevel1">
<li><a href="#_prerequisites_and_requirements">Prerequisites and Requirements</a></li>
<li><a href="#_install_using_parcels">Install Using Parcels</a></li>
<li><a href="#install_packages">Install Using Packages</a>
<ul class="sectlevel2">
<li><a href="#_install_on_rhel_or_sles_hosts">Install On RHEL or SLES Hosts</a></li>
<li><a href="#_install_on_ubuntu_or_debian_hosts">Install On Ubuntu or Debian Hosts</a></li>
<li><a href="#required_config_without_cm">Required Configuration Without Cloudera Manager</a></li>
</ul>
</li>
<li><a href="#_build_from_source">Build From Source</a>
<ul class="sectlevel2">
<li><a href="#_rhel_or_centos">RHEL or CentOS</a></li>
<li><a href="#_ubuntu_or_debian">Ubuntu or Debian</a></li>
</ul>
</li>
<li><a href="#build_cpp_client">Installing the C++ Client Libraries</a></li>
<li><a href="#build_java_client">Build the Java Client</a></li>
<li><a href="#view_api">View API Documentation</a></li>
</ul>
  </div>
    </div>
  </div>
</div>